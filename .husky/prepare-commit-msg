#!/bin/sh

echo "ğŸ”§ Preparing commit: install + lint + typecheck..."

pnpm i --frozen-lockfile --ignore-scripts --offline
if [ $? -ne 0 ]; then
    echo "âŒ Install failed!"
    exit 1
fi

lint-staged
if [ $? -ne 0 ]; then
    echo "âŒ Lint-staged failed!"
    exit 1
fi

pnpm typecheck
if [ $? -ne 0 ]; then
    echo "âŒ TypeScript type check failed!"
    exit 1
fi

echo "âœ… Commit preparation completed!"